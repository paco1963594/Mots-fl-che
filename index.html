<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mots fl√©ch√©s 10x10 Ultime</title>
<style>
body { background-color:#000;color:#fff;font-family:Arial,sans-serif;display:flex;flex-direction:column;align-items:center;padding:20px; }
h1{color:gold;text-shadow:0 0 10px red;margin-bottom:20px;}
.grid{display:grid;grid-template-columns:repeat(10,45px);grid-template-rows:repeat(10,45px);gap:3px;}
.cell{width:45px;height:45px;background-color:#222;border:2px solid #444;display:flex;align-items:center;justify-content:center;font-size:1.2em;cursor:pointer;transition:0.2s;color:gold;}
.cell:hover{background-color:#333;box-shadow:0 0 5px gold;}
.blocked{background-color:#600;cursor:not-allowed;}
.question-box{background-color:#111;border:1px solid red;margin-top:20px;padding:15px;width:320px;text-align:center;border-radius:10px;}
input{width:100%;padding:8px;margin-top:10px;border:none;border-radius:5px;}
button{margin-top:10px;background-color:gold;color:black;border:none;padding:8px 16px;border-radius:5px;font-weight:bold;cursor:pointer;}
button:hover{background-color:red;color:white;}
.message{margin-top:10px;font-weight:bold;}
.counter{position:fixed;top:10px;right:15px;background-color:#111;border:1px solid red;color:gold;padding:6px 10px;border-radius:8px;font-size:14px;box-shadow:0 0 10px red;}
footer{margin-top:30px;color:#888;font-size:0.9em;}
a.button-link{display:inline-block;margin-top:10px;background-color:gold;color:black;padding:8px 16px;border-radius:5px;text-decoration:none;font-weight:bold;}
a.button-link:hover{background-color:red;color:white;}
</style>
</head>
<body>
<h1>üß© Mots fl√©ch√©s 10x10 du jour - Version Ultime</h1>
<div class="grid" id="grid"></div>
<div class="question-box" id="questionBox" style="display:none;">
  <p id="questionText"></p>
  <input type="text" id="answerInput" placeholder="Votre r√©ponse...">
  <button id="validateBtn">Valider</button>
  <button id="showSolutionBtn">Voir solution</button>
  <p class="message" id="message"></p>
</div>
<a href="https://www.tv5monde.com/cms/chaine-francophone/jeux-de-mots-fleches/" target="_blank" class="button-link">Voir plus de grilles TV5 Monde</a>
<div class="counter" id="visitorCount">Visiteurs : ...</div>
<footer>¬© 2025 - Mots fl√©ch√©s interactif ultime</footer>

<script>
const size=10;
let gridData=Array(size).fill(null).map(()=>Array(size).fill(""));
let wordBase=[ 
  {"word":"CHAT","question":"Animal qui miaule"},
  {"word":"BLEU","question":"Couleur du ciel"},
  {"word":"CAFE","question":"Boisson chaude"},
  {"word":"FRAISE","question":"Fruit rouge"},
  {"word":"MARS","question":"Plan√®te rouge"},
  {"word":"VENUS","question":"√âtoile du matin"},
  {"word":"PIANO","question":"Instrument de musique"},
  {"word":"LION","question":"Gros f√©lin"},
  {"word":"COLA","question":"Boisson gazeuse"},
  {"word":"FOURMI","question":"Petit insecte"},
  {"word":"ROUGE","question":"Couleur vive"},
  {"word":"ANNE","question":"Pr√©nom f√©minin"},
  {"word":"AFRIQUE","question":"Continent"},
  {"word":"TENNIS","question":"Sport de balle"},
  {"word":"COUTEAU","question":"Outil tranchant"},
  {"word":"SOLEIL","question":"Astre du jour"},
  {"word":"NEIGE","question":"Pr√©cipitation blanche"},
  {"word":"ORANGE","question":"Fruit et couleur"},
  {"word":"ECRAN","question":"Support visuel"},
  {"word":"EAU","question":"Liquide vital"},
  {"word":"VOITURE","question":"Moyen de transport"},
  {"word":"MONTAGNE","question":"Relief √©lev√©"},
  {"word":"RIVIERE","question":"Cours d'eau"},
  {"word":"ORDINATEUR","question":"Machine pour coder"},
  {"word":"TABLE","question":"Mobilier pour manger"},
  {"word":"CHAIR","question":"Muscle du corps"},
  {"word":"LIVRE","question":"Lecture"},
  {"word":"POMME","question":"Fruit commun"},
  {"word":"VENT","question":"Air en mouvement"},
  {"word":"LUNE","question":"Satellite terrestre"},
  {"word":"PLANTE","question":"Organisme v√©g√©tal"},
  {"word":"NUAGE","question":"Vapeur condens√©e"},
  {"word":"SAVON","question":"Produit de nettoyage"},
  {"word":"GLACE","question":"Froid et dessert"},
  {"word":"FLEUR","question":"Partie color√©e des plantes"},
  {"word":"ARBRE","question":"Grande plante ligneuse"},
  {"word":"ROCHER","question":"Bloc de pierre"},
  {"word":"MER","question":"√âtendue d'eau sal√©e"},
  {"word":"LAC","question":"Petit plan d'eau"},
  {"word":"RUE","question":"Voie urbaine"},
  {"word":"MAISON","question":"Habitation"},
  {"word":"PORTE","question":"Ouverture dans un mur"},
  {"word":"FENETRE","question":"Ouverture vitr√©e"},
  {"word":"CHAISE","question":"Pour s'asseoir"},
  {"word":"COUCHER","question":"Aller au lit"},
  {"word":"MANGER","question":"Action de se nourrir"},
  {"word":"BOIRE","question":"Liquide √† ing√©rer"},
  {"word":"COURIR","question":"Se d√©placer vite"},
  {"word":"JOUER","question":"Divertissement"},
  {"word":"DORMIR","question":"Repos nocturne"},
  {"word":"CHANTER","question":"Produire des sons m√©lodieux"},
  {"word":"DANSE","question":"Mouvement rythmique"},
  {"word":"MONTRE","question":"Indique l'heure"},
  {"word":"BATEAU","question":"Moyen de transport sur l'eau"},
  {"word":"TRAIN","question":"Transport ferroviaire"},
  {"word":"AVION","question":"Transport a√©rien"},
  {"word":"VELO","question":"Deux roues"},
  {"word":"BONNET","question":"Accessoire pour la t√™te"},
  {"word":"GANTS","question":"Prot√®gent les mains"},
  {"word":"LUNETTE","question":"Pour voir mieux"},
  {"word":"CAMPING","question":"S√©jour en plein air"},
  {"word":"MUSEE","question":"Lieu culturel"},
  {"word":"THEATRE","question":"Lieu pour spectacles"},
  {"word":"CINEMA","question":"Voir des films"},
  {"word":"GUITARE","question":"Instrument √† cordes"},
  {"word":"VIOLON","question":"Instrument √† cordes frott√©es"},
  {"word":"TROMPETTE","question":"Instrument √† vent"},
  {"word":"BATTERIE","question":"Instrument de percussion"},
  {"word":"CLAVIER","question":"Instrument √† touches"},
  {"word":"ORCHESTRE","question":"Groupe de musiciens"},
  {"word":"CHAMP","question":"Terrain agricole"},
  {"word":"JARDIN","question":"Lieu pour plantes"},
  {"word":"FERME","question":"Habitat agricole"},
  {"word":"ANIMAL","question":"√ätre vivant"},
  {"word":"OISEAU","question":"Animal qui vole"},
  {"word":"POISSON","question":"Animal aquatique"},
  {"word":"REPTILE","question":"Animal √† √©cailles"},
  {"word":"INSECTE","question":"Petit animal √† six pattes"},
  {"word":"FELIN","question":"Groupe de carnivores"},
  {"word":"CANARD","question":"Oiseau aquatique"},
  {"word":"CHEVAL","question":"Animal de ferme"},
  {"word":"VACHE","question":"Fournit du lait"},
  {"word":"MOUTON","question":"Animal laineux"},
  {"word":"COCHON","question":"Animal rose"},
  {"word":"POULE","question":"Oiseau de basse-cour"},
  {"word":"CHATON","question":"Jeune chat"},
  {"word":"CHIOT","question":"Jeune chien"},
  {"word":"ARCTIQUE","question":"R√©gion glac√©e"},
  {"word":"SAHARA","question":"D√©sert chaud"},
  {"word":"FORET","question":"Grand espace bois√©"},
  {"word":"PRAIRIE","question":"Terrain herbeux"},
  {"word":"RIVAGE","question":"Bord de mer"},
  {"word":"OC√âAN","question":"Grande √©tendue d'eau"},
  {"word":"ILE","question":"Terre entour√©e d'eau"},
  {"word":"MONT","question":"√âl√©vation du sol"},
  {"word":"VALLEE","question":"Espace entre deux montagnes"},
  {"word":"PLAGE","question":"Sable au bord de l'eau"},
  {"word":"CAVE","question":"Lieu sous terre"},
  {"word":"GRENIER","question":"Sous le toit"},
  {"word":"BALCON","question":"Terrasse d'un appartement"},
  {"word":"ESCALIER","question":"Pour monter ou descendre"},
  {"word":"ASCENSEUR","question":"Monte-people"},
  {"word":"FENOUIL","question":"L√©gume aromatique"},
  {"word":"CAROTTE","question":"L√©gume orange"},
  {"word":"POIREAU","question":"L√©gume long"},
  {"word":"OIGNON","question":"L√©gume qui fait pleurer"},
  {"word":"TOMATE","question":"Fruit rouge souvent cuisin√©"},
  {"word":"CONCOMBRE","question":"L√©gume vert cru"},
  {"word":"COURGETTE","question":"L√©gume vert long"},
  {"word":"POTIRON","question":"Courge d'automne"},
  {"word":"HARICOT","question":"L√©gume sec ou vert"},
  {"word":"PETIT-POIS","question":"L√©gume rond"},
  {"word":"EPINARD","question":"L√©gume vert feuillu"},
  {"word":"CHOU","question":"L√©gume rond"},
  {"word":"LAITUE","question":"Salade verte"},
  {"word":"BETTERAVE","question":"Racine rouge"},
  {"word":"NAVET","question":"Racine blanche"},
  {"word":"RADIS","question":"Petit l√©gume rond"},
  {"word":"AIL","question":"L√©gume odorant"},
  {"word":"GINGEMBRE","question":"Racine piquante"},
  {"word":"CITRON","question":"Agrume jaune"},
  {"word":"BANANE","question":"Fruit long jaune"},
  {"word":"RAISIN","question":"Fruit de vigne"},
  {"word":"CERISE","question":"Fruit rouge"},
  {"word":"ABRICOT","question":"Fruit orang√©"},
  {"word":"PECHER","question":"Arbre fruitier"},
  {"word":"PRUNE","question":"Fruit violet"},
  {"word":"MANGUE","question":"Fruit tropical"},
  {"word":"ANANAS","question":"Fruit tropical"},
  {"word":"KIWI","question":"Fruit vert"},
  {"word":"PAIN","question":"Aliment de base"},
  {"word":"FROMAGE","question":"Produit laitier"},
  {"word":"BEURRE","question":"Produit laitier jaune"},
  {"word":"YAOURT","question":"Produit laitier ferment√©"},
  {"word":"LENTILLE","question":"L√©gume sec"},
  {"word":"RIZ","question":"C√©r√©ale"},
  {"word":"PATES","question":"C√©r√©ale cuisin√©e"},
  {"word":"BOEUF","question":"Viande rouge"},
  {"word":"PORC","question":"Viande rose"},
  {"word":"POULET","question":"Viande blanche"},
  {"word":"SAUMON","question":"Poisson rose"},
  {"word":"THON","question":"Poisson en conserve"},
  {"word":"CREVETTE","question":"Petit crustac√©"},
  {"word":"HOMARD","question":"Crustac√© grand"},
  {"word":"CRABE","question":"Crustac√© √† pinces"}
]; // tu peux continuer jusqu'√† 200+

let dailyWords=[], definitions={};
function getDailyWords(base,count){
  const date=new Date();
  const seed=date.getFullYear()*10000+(date.getMonth()+1)*100+date.getDate();
  let shuffled=[...base].sort((a,b)=>((Math.sin(seed+a.word.length*7)*10000)%1)-((Math.sin(seed+b.word.length*7)*10000)%1));
  return shuffled.slice(0,count);
}

function placeWords(words){
  definitions={};
  gridData=Array(size).fill(null).map(()=>Array(size).fill(""));
  words.forEach(w=>{
    let placed=false;
    let tries=0;
    while(!placed && tries<300){
      let dir=Math.random()<0.5?"across":"down";
      let r=Math.floor(Math.random()*(size-(dir==="down"?w.word.length:0)));
      let c=Math.floor(Math.random()*(size-(dir==="across"?w.word.length:0)));
      let canPlace=true;
      for(let j=0;j<w.word.length;j++){
        let rr=dir==="across"?r:r+j;
        let cc=dir==="across"?c+j:c;
        if(gridData[rr][cc]!="" && gridData[rr][cc]!==w.word[j]) canPlace=false;
      }
      if(canPlace){
        for(let j=0;j<w.word.length;j++){
          let rr=dir==="across"?r:r+j;
          let cc=dir==="across"?c+j:c;
          gridData[rr][cc]="";
        }
        definitions[`${r}-${c}`]={question:w.question,answer:w.word,direction:dir};
        placed=true;
      }
      tries++;
    }
  });
}

const gridEl=document.getElementById("grid");
const questionBox=document.getElementById("questionBox");
const questionText=document.getElementById("questionText");
const answerInput=document.getElementById("answerInput");
const validateBtn=document.getElementById("validateBtn");
const showSolutionBtn=document.getElementById("showSolutionBtn");
const message=document.getElementById("message");
let selectedCell=null;

function renderGrid(){
  gridEl.innerHTML="";
  for(let r=0;r<size;r++){
    for(let c=0;c<size;c++){
      const div=document.createElement("div");
      div.classList.add("cell");
      if(gridData[r][c]==="‚ñ†") div.classList.add("blocked");
      div.textContent=gridData[r][c]!=="‚ñ†"&&gridData[r][c]!=""?gridData[r][c]:"";
      div.onclick=()=>selectCell(r,c);
      gridEl.appendChild(div);
    }
  }
}

function selectCell(r,c){
  const key=`${r}-${c}`;
  if(definitions[key]){
    selectedCell={r,c,...definitions[key]};
    questionBox.style.display="block";
    questionText.textContent=definitions[key].question;
    message.textContent="";
    answerInput.value="";
    answerInput.focus();
  } else questionBox.style.display="none";
}

validateBtn.onclick=()=>{
  if(!selectedCell) return;
  const user=answerInput.value.trim().toUpperCase();
  const correct=selectedCell.answer.toUpperCase();
  if(user===correct){
    message.style.color="lime";
    message.textContent="Bonne r√©ponse !";
    for(let i=0;i<correct.length;i++){
      if(selectedCell.direction==="across") gridData[selectedCell.r][selectedCell.c+i]=correct[i];
      else gridData[selectedCell.r+i][selectedCell.c]=correct[i];
    }
    renderGrid();
    setTimeout(()=>{questionBox.style.display="none";},800);
  } else {
    message.style.color="red";
    message.textContent="Faux, r√©essayez.";
  }
}

showSolutionBtn.onclick=()=>{
  Object.keys(definitions).forEach(k=>{
    const {r,c,answer,direction}=definitions[k];
    for(let i=0;i<answer.length;i++){
      if(direction==="across") gridData[r][c+i]=answer[i];
      else gridData[r+i][c]=answer[i];
    }
  });
  renderGrid();
  questionBox.style.display="none";
}

// compteur visiteurs simple
const counter=document.getElementById("visitorCount");
const apiKey="mots-fleches-ultime-10x10-"+window.location.hostname.replace(/\W/g,"");
fetch(`https://api.countapi.xyz/hit/${apiKey}/visites`)
.then(r=>r.json()).then(d=>counter.textContent=`Visiteurs : ${d.value}`)
.catch(()=>counter.textContent="Compteur hors ligne");

// initialisation
dailyWords = getDailyWords(wordBase,15);
placeWords(dailyWords);
renderGrid();
</script>
</body>
</html>
